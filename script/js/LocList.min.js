!function(t){t.LocList=function(e){if(!e||!e.fields||!t.isArray(e.fields)||e.fields.length<2||!e.topLevel||!e.url)return!1;if(-1===t.inArray(e.topLevel,["country","state","city"]))return!1;var n=["country","state","city","region"],i={},r=e.url,a=!!e.preload,l=e.method?e.method:"get",o=function(t,e){var r=n.indexOf(t),a=void 0===e?n.length:n.indexOf(e);if(-1!==r&&r!==n.length-1&&!(r>=a))for(var l=r+1;a>l;l++)i[n[l]]&&i[n[l]].empty().attr("disabled",!0)};!function(){for(var r=n.indexOf(e.topLevel),a=e.fields.length<n.length?e.fields.length+r:n.length,l=r;a>l;l++)i[n[l]]=t(e.fields[l])}(),function(){var e=Object.keys(i);e.pop();for(var n in e)!function(){var a=e[n];i[a].bind("change",function(){t.ajax({url:r,type:l,dataType:"json",data:{id:t(this).val()},success:function(t){"1"===t.status?i[t.type]&&(o(a,t.type),i[t.type].attr("disabled",!1).html(t.html).change()):"0"===t.status&&o(a)},error:function(t,e){alert(e)}})})}()}(),a&&i[e.topLevel].change()}}(jQuery);